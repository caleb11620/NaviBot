// Left connected between A01 and A02
// Right connected between B01 and B02
#include "Wire.h"

int STBY = A3; //standby

//Left motor
int PWML = 10; //Speed control 
int AIN1 = A6; //Direction
int AIN2 = A7; //Direction

//Right motor
int PWMR = 9; //Speed control
int BIN1 = A2; //Direction
int BIN2 = A1; //Direction

void setup(){

  Serial.begin(9600);
  Wire.begin();

  pinMode(STBY, OUTPUT);

  pinMode(PWML, OUTPUT);
  pinMode(AIN1, OUTPUT);
  pinMode(AIN2, OUTPUT);

  pinMode(PWMR, OUTPUT);
  pinMode(BIN1, OUTPUT);
  pinMode(BIN2, OUTPUT);
}

void loop(){

  boolean inPin1;
  boolean inPin2;

  digitalWrite(STBY, HIGH);
  
  //digitalWrite(AIN1, HIGH);
  //digitalWrite(AIN2, LOW);
  //analogWrite(PWML, 128);

  digitalWrite(BIN1, HIGH);
  digitalWrite(BIN2, LOW);
  analogWrite(PWMR, 128);

  //move(0, 128, 1); //motor right, full speed, left
  //move(1, 128, 1); //motor left, full speed, left

  Serial.println("moving both half speed motors");

  delay(3000); //go for 1 second
  stop(); //stop

  Serial.println("stop motors");

  delay(3000); //hold for 1 second 
  
  //move(0, 128, 0); //motor 1, half speed, right
  //move(1, 128, 0); //motor 2, half speed, right
  Serial.println("moving both motors half speed");
  digitalWrite(AIN1, LOW);
  digitalWrite(AIN2, HIGH);
  analogWrite(PWML, 128);

  digitalWrite(BIN1, LOW);
  digitalWrite(BIN2, HIGH);
  analogWrite(PWMR, 128);
  delay(3000);

  stop();

  Serial.println("stop both motors");

  delay(3000);
}


void move(int motor, int speed, int direction){
//Move specific motor at speed and direction
//motor: 0 for right 1 for left
//speed: 0 is off, and 255 is full speed
//direction: 0 clockwise, 1 counter-clockwise

  digitalWrite(STBY, HIGH); //disable standby

  boolean inPin1 = LOW;
  boolean inPin2 = HIGH;

  if(direction == 1){
    inPin1 = HIGH;
    inPin2 = LOW;
  }

  if(motor == 1){
    digitalWrite(AIN1, inPin1);
    digitalWrite(AIN2, inPin2);
    analogWrite(PWML, speed);

  if (motor == 0)
    digitalWrite(BIN1, inPin1);
    digitalWrite(BIN2, inPin2);
    analogWrite(PWMR, speed);
  }
}

void stop(){
//enable standby  
  digitalWrite(STBY, LOW); 
}
